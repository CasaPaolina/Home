<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Area Ospiti - Casa Paolina</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/guest-page.css">

    <!-- Favicon -->
    <link rel="icon" href="images/favicon.ico" sizes="32x32 64x64" type="image/x-icon">
    <link rel="icon" href="images/favicon-32.png" sizes="32x32" type="image/png">
    <link rel="apple-touch-icon" href="images/favicon-180.png" sizes="180x180">
</head>
<body class="guest-page">
    <script>
        // Protect guest area: redirect to homepage if not authenticated
        if (localStorage.getItem('guestLoggedIn') !== 'true') {
            window.location.href = 'index.html';
        }
    </script>
    <!-- Header -->
    <header class="guest-header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-link">‚Üê <span data-translate="back_to_site">Torna al sito</span></a>
                <h1 data-translate="guest_page_title">Area Riservata Ospiti</h1>
                <div class="language-flags">
                    <button class="flag-btn active" data-lang="it" title="Italiano">
                        <span class="flag">üáÆüáπ</span>
                    </button>
                    <button class="flag-btn" data-lang="en" title="English">
                        <span class="flag">üá¨üáß</span>
                    </button>
                    <button class="flag-btn" data-lang="es" title="Espa√±ol">
                        <span class="flag">üá™üá∏</span>
                    </button>
                    <button class="flag-btn" data-lang="de" title="Deutsch">
                        <span class="flag">üá©üá™</span>
                    </button>
                    <button class="flag-btn" data-lang="fr" title="Fran√ßais">
                        <span class="flag">üá´üá∑</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Weather & Beach Recommendations moved below Essential Info & House Rules -->
    <!-- See later in the document -->

    <!-- Essential Info -->
    <section class="essential-info">
        <div class="container">
            <h2 data-translate="essential_info_title">Informazioni Essenziali</h2>
            <div class="info-grid">
                <!-- WiFi -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
                        <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
                        <line x1="12" y1="20" x2="12.01" y2="20"/>
                    </svg>
                    <h3>Wi-Fi</h3>
                    <p><strong data-translate="network">Rete:</strong> CUDY-ADAC</p>
                    <p><strong>Password:</strong> 91581662</p>
                </div>

                <!-- Schedules -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                    <h3 data-translate="schedules">Orari</h3>
                    <p><strong>Check-in:</strong> 14:00-20:00</p>
                    <p><strong>Check-out:</strong> <span data-translate="by">entro le</span> 10:00</p>
                    <p><strong data-translate="quiet_hours">Silenzio:</strong> 23:00-07:00</p>
                    <p><strong data-translate="irrigation">Irrigazione:</strong> 04:00-04:30</p>
                    <p><strong data-translate="outdoor_lighting">Illuminazione esterna:</strong> 20:30-23:30</p>
                </div>

                <!-- Linens -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                        <path d="M3 9h18M9 21V9"/>
                    </svg>
                    <h3 data-translate="linens">Biancheria</h3>
                    <p data-translate="linens_included">Lenzuola e asciugamani inclusi</p>
                    <p data-translate="linens_change">Cambio ogni 3 giorni</p>
                </div>

                <!-- Laundry -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 16v-4M12 8h.01"/>
                    </svg>
                    <h3 data-translate="laundry">Lavanderia</h3>
                    <p data-translate="laundry_nearby">Lavanderia self-service a 5 min</p>
                    <p data-translate="laundry_address">Via Roma, Uggiano la Chiesa</p>
                    <p data-translate="laundry_hours">Lun-Sab: 8:00-20:00</p>
                </div>

                <!-- Waste Collection -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                    </svg>
                    <h3 data-translate="waste">Raccolta Differenziata</h3>
                    <div style="background: #f0f9ff; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong data-translate="waste_plastic_title">‚ôªÔ∏è Plastica e Metalli:</strong> <span data-translate="waste_plastic_days">Marted√¨ e Venerd√¨</span></p>
                        <p style="font-size: 0.85rem; color: #666; margin: 5px 0 5px 25px;" data-translate="waste_plastic_desc">Bottiglie, flaconi, vaschette, lattine, barattoli metallici</p>
                    </div>
                    <div style="background: #f0fdf4; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong data-translate="waste_paper_title">üìÑ Carta e Cartone:</strong> <span data-translate="waste_paper_days">Gioved√¨</span></p>
                        <p style="font-size: 0.85rem; color: #666; margin: 5px 0 5px 25px;" data-translate="waste_paper_desc">Giornali, riviste, scatole (appiattire)</p>
                    </div>
                    <div style="background: #fefce8; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong data-translate="waste_indiff_title">üóëÔ∏è Indifferenziato:</strong> <span data-translate="waste_indiff_days">Luned√¨, Mercoled√¨, Sabato</span></p>
                        <p style="font-size: 0.85rem; color: #666; margin: 5px 0 5px 25px;" data-translate="waste_indiff_desc">Tutto ci√≤ che non √® riciclabile</p>
                    </div>
                    <div style="background: #fef2f2; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong data-translate="waste_glass_title">üçæ Vetro:</strong> <span data-translate="waste_glass_days">Mercoled√¨</span></p>
                        <p style="font-size: 0.85rem; color: #666; margin: 5px 0 5px 25px;" data-translate="waste_glass_desc">Bottiglie e vasetti di vetro (senza tappi)</p>
                    </div>
                    <div style="background: #f5f3ff; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong data-translate="waste_organic_title">ü•¨ Organico:</strong> <span data-translate="waste_organic_days">Tutti i giorni</span></p>
                        <p style="font-size: 0.85rem; color: #666; margin: 5px 0 5px 25px;" data-translate="waste_organic_desc">Scarti alimentari, utilizzare sacchetti compostabili</p>
                    </div>
                    <p style="margin-top: 15px; font-size: 0.9rem; font-style: italic;" data-translate="waste_note_expose">‚è∞ Esporre i rifiuti la sera prima del giorno di raccolta</p>
                </div>

                <!-- Security -->
                <div class="info-card emergency">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    <h3 data-translate="security">Sicurezza</h3>
                    <p><strong data-translate="area_monitored">üìπ Area Videosorvegliata</strong></p>
                    <p data-translate="lock_door">Chiudi sempre la porta a chiave</p>
                    <p data-translate="valuables">Custodisci oggetti di valore</p>
                    <p data-translate="emergency_number"><strong>Emergenze:</strong> 112</p>
                    <p><strong data-translate="owner">Proprietario:</strong> <a href="tel:+393208086738">+39 320 808 6738</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- House Rules -->
    <section class="house-rules">
        <div class="container">
            <h2 data-translate="house_rules_title">Regole della Casa</h2>
            <div class="rules-grid">
                <div class="rule-item">
                    <span class="rule-icon">üö≠</span>
                    <p data-translate="no_smoking">Vietato fumare all'interno</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üîá</span>
                    <p data-translate="respect_quiet">Rispetta gli orari di silenzio</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">‚ôªÔ∏è</span>
                    <p data-translate="separate_waste">Differenzia i rifiuti</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üí°</span>
                    <p data-translate="turn_off_lights">Spegni luci e A/C quando esci</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üîë</span>
                    <p data-translate="lock_always">Chiudi sempre a chiave</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üßπ</span>
                    <p data-translate="keep_clean">Mantieni pulito l'appartamento</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Weather & Beach Recommendations (moved here after info & rules) -->
    <section class="weather-beaches">
        <div class="container">
            <h2 data-translate="weather_beaches_title">Previsioni Vento & Spiagge Consigliate</h2>

            <!-- Current Date Display -->
            <div style="text-align: center; margin-bottom: 30px; padding: 15px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px;">
                <h3 id="current-date-display" style="font-size: 1.5rem; color: var(--dark-color); margin: 0;">
                    <!-- Will be filled by JavaScript -->
                </h3>
            </div>

            <!-- Weather Timeline -->
            <div class="weather-timeline">
                <div class="weather-time-slot">
                    <h3 data-translate="morning">Mattina (9:00-12:00)</h3>
                    <div class="wind-info">
                        <div class="wind-arrow" id="wind-morning">üß≠</div>
                        <div class="wind-details">
                            <p><span data-translate="direction">Direzione:</span> <span id="wind-dir-morning">--</span></p>
                            <p><span data-translate="speed">Velocit√†:</span> <span id="wind-speed-morning">--</span> km/h</p>
                        </div>
                    </div>
                </div>
                <div class="weather-time-slot">
                    <h3 data-translate="noon">Mezzogiorno (12:00-15:00)</h3>
                    <div class="wind-info">
                        <div class="wind-arrow" id="wind-noon">üß≠</div>
                        <div class="wind-details">
                            <p><span data-translate="direction">Direzione:</span> <span id="wind-dir-noon">--</span></p>
                            <p><span data-translate="speed">Velocit√†:</span> <span id="wind-speed-noon">--</span> km/h</p>
                        </div>
                    </div>
                </div>
                <div class="weather-time-slot">
                    <h3 data-translate="afternoon">Pomeriggio (15:00-18:00)</h3>
                    <div class="wind-info">
                        <div class="wind-arrow" id="wind-afternoon">üß≠</div>
                        <div class="wind-details">
                            <p><span data-translate="direction">Direzione:</span> <span id="wind-dir-afternoon">--</span></p>
                            <p><span data-translate="speed">Velocit√†:</span> <span id="wind-speed-afternoon">--</span> km/h</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Beach Recommendations -->
            <div class="beach-recommendations">
                <h3 data-translate="top_beaches">üèñÔ∏è Top 3 Spiagge Consigliate Oggi</h3>
                <div class="beaches-grid" id="recommended-beaches">
                    <!-- Will be populated by JavaScript -->
                </div>

                <!-- Beach Map -->
                <div style="margin-top: 40px;">
                    <h4 data-translate="beaches_map_title" style="text-align: center; color: var(--dark-color); margin-bottom: 12px; font-size: 1.3rem;">Mappa Spiagge del Salento</h4>

                    <div class="map-filters" style="text-align:center; margin-bottom:12px;">
                        <button class="btn btn-secondary beach-filter active" data-filter="all" data-translate="filter_all">Tutti</button>
                        <button class="btn btn-secondary beach-filter" data-filter="spiagge" data-translate="filter_beaches">Spiagge</button>
                        <button class="btn btn-secondary beach-filter" data-filter="scogliere" data-translate="filter_cliffs">Scogliere</button>
                    </div>

                    <div id="beaches-map" class="map-container"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Excursions (guest-only) -->
    <section class="excursions">
        <div class="container">
            <div class="excursion-card">
                <h3 data-translate="excursions_title">üö§ Escursione in Gommone</h3>
                <p><strong data-translate="excursions_departure">Partenza:</strong> <span data-translate="excursions_port">Porto Badisco</span></p>
                <p><strong data-translate="excursions_service">Servizio:</strong> <span data-translate="excursions_service_desc">Foto ricordo incluse</span></p>
                <p data-translate="excursions_desc">Scopri le meravigliose grotte marine e le calette nascoste della costa adriatica del Salento con un'emozionante escursione in gommone.</p>
                <div class="excursion-actions">
                    <a class="btn btn-primary btn-cta" href="https://wa.me/393208086738" target="_blank" data-translate="book_excursion_btn">Prenota Escursione</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews -->
    <section class="reviews">
        <div class="container">
            <div class="review-section">
                <h3 data-translate="leave_review">‚úçÔ∏è Lascia una Recensione su Google</h3>
                <p class="review-subtext" data-translate="review_subtext">La tua recensione ci aiuta a migliorare!</p>
                <div class="review-links">
                    <a href="https://g.page/r/YOUR_GOOGLE_PLACE_ID/review" target="_blank" class="review-btn" data-translate="leave_review_cta">‚≠ê Lascia una Recensione su Google</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="guest-footer">
        <div class="container">
            <p>Casa Paolina - Via Dante De Blasi, 15, Uggiano la Chiesa (LE)</p>
            <p>Tel: <a href="tel:+393208086738">+39 320 808 6738</a> | WhatsApp: <a href="https://wa.me/393208086738">+39 320 808 6738</a></p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/guest-translations.js"></script>
    <script src="js/guest-page.js"></script>
</body>
</html>
