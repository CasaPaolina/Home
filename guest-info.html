<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Area Ospiti - Casa Paolina</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/guest-page.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.fullscreen/Control.FullScreen.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.fullscreen/Control.FullScreen.js"></script>

    <!-- Favicon -->
    <link rel="icon" href="images/favicon.ico" sizes="32x32 64x64" type="image/x-icon">
    <link rel="icon" href="images/favicon-32.png" sizes="32x32" type="image/png">
    <link rel="apple-touch-icon" href="images/favicon-180.png" sizes="180x180">
</head>
<body class="guest-page">
    <script>
        // Protect guest area: redirect to homepage if not authenticated
        if (localStorage.getItem('guestLoggedIn') !== 'true') {
            window.location.href = 'index.html';
        }
    </script>
    <!-- Header -->
    <header class="guest-header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-link">‚Üê <span data-translate="back_to_site">Torna al sito</span></a>
                <h1 data-translate="guest_page_title">Area Riservata Ospiti</h1>
                <div class="language-flags">
                    <button class="flag-btn active" data-lang="it" title="Italiano">
                        <span class="flag">üáÆüáπ</span>
                    </button>
                    <button class="flag-btn" data-lang="en" title="English">
                        <span class="flag">üá¨üáß</span>
                    </button>
                    <button class="flag-btn" data-lang="es" title="Espa√±ol">
                        <span class="flag">üá™üá∏</span>
                    </button>
                    <button class="flag-btn" data-lang="de" title="Deutsch">
                        <span class="flag">üá©üá™</span>
                    </button>
                    <button class="flag-btn" data-lang="fr" title="Fran√ßais">
                        <span class="flag">üá´üá∑</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Weather & Beach Recommendations moved below Essential Info & House Rules -->
    <!-- See later in the document -->

    <!-- Essential Info -->
    <section class="essential-info">
        <div class="container">
            <h2 data-translate="essential_info_title">Informazioni Essenziali</h2>
            <div class="info-grid">
                <!-- WiFi -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
                        <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
                        <line x1="12" y1="20" x2="12.01" y2="20"/>
                    </svg>
                    <h3>Wi-Fi</h3>
                    <p><strong data-translate="network">Rete:</strong> CUDY-ADAC</p>
                    <p><strong>Password:</strong> 91581662</p>
                </div>

                <!-- Schedules -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                    <h3 data-translate="schedules">Orari</h3>
                    <p><strong>Check-in:</strong> 14:00-20:00</p>
                    <p><strong>Check-out:</strong> <span data-translate="by">entro le</span> 10:00</p>
                    <p><strong data-translate="quiet_hours">Silenzio:</strong> 23:00-07:00</p>
                    <p><strong data-translate="irrigation">Irrigazione:</strong> 04:00-04:30</p>
                    <p><strong data-translate="outdoor_lighting">Illuminazione esterna:</strong> 20:30-23:30</p>
                </div>

                <!-- Linens & Laundry (merged) -->
                <div class="info-card">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                        <path d="M3 9h18M9 21V9"/>
                    </svg>
                    <h3>Biancheria e Lavanderia</h3>
                    <p><strong>Lenzuola e asciugamani:</strong> incluse</p>
                    <p><strong>Cambio biancheria:</strong> ogni 3 giorni</p>
                    <p><strong>Lavanderia:</strong> Lavanderia self-service a 5 min ‚Äî Via Roma, Uggiano la Chiesa (Lun-Sab: 8:00-20:00)</p>
                </div>

                <!-- Security card removed per request -->
            </div>

            <!-- Waste Collection Calendar -->
            <div class="waste-collection-section">
                <h3 data-translate="waste">Raccolta Differenziata</h3>
                <div class="waste-calendar-grid" id="waste-calendar-grid">
                    <!-- Filled by JS -->
                </div>
            </div>
        </div>
    </section>

    <!-- House Rules -->
    <section class="house-rules">
        <div class="container">
            <h2 data-translate="house_rules_title">Regole della Casa</h2>
            <div class="rules-grid">
                <div class="rule-item">
                    <span class="rule-icon">üö≠</span>
                    <p data-translate="no_smoking">Vietato fumare all'interno</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üîá</span>
                    <p data-translate="respect_quiet">Rispetta gli orari di silenzio</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">‚ôªÔ∏è</span>
                    <p data-translate="separate_waste">Differenzia i rifiuti</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üí°</span>
                    <p data-translate="turn_off_lights">Spegni luci e A/C quando esci</p>
                </div>
                <div class="rule-item">
                    <svg class="rule-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                        <path d="M21 7h-3.2l-2-2H8.2l-2 2H3v11a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V7z" fill="#2c7873"/>
                        <circle cx="12" cy="13" r="3" fill="#ffffff"/>
                    </svg>
                    <p data-translate="area_monitored">Area videosorvegliata</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üßπ</span>
                    <p data-translate="keep_clean">Mantieni pulito l'appartamento</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Weather & Beach Recommendations (moved here after info & rules) -->
    <section class="weather-beaches">
        <div class="container">
            <h2 data-translate="weather_beaches_title">Previsioni Vento & Spiagge Consigliate</h2>

            <!-- Two Day Forecast -->
            <div class="forecast-days">
                <!-- Today -->
                <div class="day-forecast">
                    <div class="day-header">
                        <h3 data-translate="today">Oggi</h3>
                        <p class="forecast-date" id="today-date"></p>
                    </div>
                    <div class="day-timeline">
                        <div class="time-block">
                            <span class="time-label" data-translate="morning_short">Mattina</span>
                            <div class="wind-compact">
                                <span class="wind-arrow-sm" id="wind-morning-today">üß≠</span>
                                <span class="wind-speed-sm" id="wind-speed-morning-today">-- km/h</span>
                            </div>
                            <span class="wind-dir-sm" id="wind-dir-morning-today">--</span>
                        </div>
                        <div class="time-block">
                            <span class="time-label" data-translate="noon_short">Mezzo.</span>
                            <div class="wind-compact">
                                <span class="wind-arrow-sm" id="wind-noon-today">üß≠</span>
                                <span class="wind-speed-sm" id="wind-speed-noon-today">-- km/h</span>
                            </div>
                            <span class="wind-dir-sm" id="wind-dir-noon-today">--</span>
                        </div>
                        <div class="time-block">
                            <span class="time-label" data-translate="afternoon_short">Pomer.</span>
                            <div class="wind-compact">
                                <span class="wind-arrow-sm" id="wind-afternoon-today">üß≠</span>
                                <span class="wind-speed-sm" id="wind-speed-afternoon-today">-- km/h</span>
                            </div>
                            <span class="wind-dir-sm" id="wind-dir-afternoon-today">--</span>
                        </div>
                    </div>
                    <div class="recommended-beaches-compact">
                        <h4 data-translate="top_beaches_today">üèñÔ∏è Spiagge Consigliate</h4>
                        <div id="recommended-beaches-today"></div>
                    </div>
                </div>

                <!-- Tomorrow -->
                <div class="day-forecast">
                    <div class="day-header">
                        <h3 data-translate="tomorrow">Domani</h3>
                        <p class="forecast-date" id="tomorrow-date"></p>
                    </div>
                    <div class="day-timeline">
                        <div class="time-block">
                            <span class="time-label" data-translate="morning_short">Mattina</span>
                            <div class="wind-compact">
                                <span class="wind-arrow-sm" id="wind-morning-tomorrow">üß≠</span>
                                <span class="wind-speed-sm" id="wind-speed-morning-tomorrow">-- km/h</span>
                            </div>
                            <span class="wind-dir-sm" id="wind-dir-morning-tomorrow">--</span>
                        </div>
                        <div class="time-block">
                            <span class="time-label" data-translate="noon_short">Mezzo.</span>
                            <div class="wind-compact">
                                <span class="wind-arrow-sm" id="wind-noon-tomorrow">üß≠</span>
                                <span class="wind-speed-sm" id="wind-speed-noon-tomorrow">-- km/h</span>
                            </div>
                            <span class="wind-dir-sm" id="wind-dir-noon-tomorrow">--</span>
                        </div>
                        <div class="time-block">
                            <span class="time-label" data-translate="afternoon_short">Pomer.</span>
                            <div class="wind-compact">
                                <span class="wind-arrow-sm" id="wind-afternoon-tomorrow">üß≠</span>
                                <span class="wind-speed-sm" id="wind-speed-afternoon-tomorrow">-- km/h</span>
                            </div>
                            <span class="wind-dir-sm" id="wind-dir-afternoon-tomorrow">--</span>
                        </div>
                    </div>
                    <div class="recommended-beaches-compact">
                        <h4 data-translate="top_beaches_tomorrow">üèñÔ∏è Spiagge Consigliate</h4>
                        <div id="recommended-beaches-tomorrow"></div>
                    </div>
                </div>
            </div>

            <!-- All Beaches List -->
            <div class="beach-recommendations">
                <h3 data-translate="all_beaches">Tutte le Spiagge</h3>
                <div class="beaches-grid" id="recommended-beaches">
                    <!-- Will be populated by JavaScript -->
                </div>

                <!-- Beach Map & List -->
                <div class="beaches-map-section">
                    <!-- Filters -->
                    <div class="beach-filters-modern">
                        <button class="beach-filter-btn active" data-filter="all" data-translate="filter_all">Tutte</button>
                        <button class="beach-filter-btn" data-filter="sand" data-translate="filter_sand">Sabbia</button>
                        <button class="beach-filter-btn" data-filter="rocks" data-translate="filter_rocks">Scogliera</button>
                        <button class="beach-filter-btn" data-filter="recommended-today" data-translate="filter_recommended_today">Consigliato oggi</button>
                    </div>

                    <!-- Map -->
                    <div id="beaches-map" class="map-container-modern"></div>

                    <!-- Beach List -->
                    <div id="beaches-list" class="beaches-list-modern"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Excursions (guest-only) -->
    <section class="excursions">
        <div class="container">
            <div class="excursion-card">
                <h3 data-translate="excursions_title">üö§ Escursione in Gommone</h3>
                <p><strong data-translate="excursions_departure">Partenza:</strong> <span data-translate="excursions_port">Porto Badisco</span></p>
                <p><strong data-translate="excursions_service">Servizio:</strong> <span data-translate="excursions_service_desc">Foto ricordo incluse</span></p>
                <p data-translate="excursions_desc">Scopri le meravigliose grotte marine e le calette nascoste della costa adriatica del Salento con un'emozionante escursione in gommone.</p>
                <div class="excursion-actions">
                    <a class="btn btn-primary btn-cta" href="https://wa.me/393208086738" target="_blank" data-translate="book_excursion_btn">Prenota Escursione</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews -->
    <section class="reviews">
        <div class="container">
            <div class="review-section">
                <h3 data-translate="leave_review">‚úçÔ∏è Lascia una Recensione su Google</h3>
                <p class="review-subtext" data-translate="review_subtext">La tua recensione ci aiuta a migliorare!</p>
                <div class="review-links">
                    <a href="https://maps.app.goo.gl/xqoVeJmRU9mDvPQj6" target="_blank" class="review-btn" data-translate="leave_review_cta">‚≠ê Lascia una Recensione su Google</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="guest-footer">
        <div class="container">
            <p>Casa Paolina - Via Dante De Blasi, 15, Uggiano la Chiesa (LE)</p>
            <p>Tel: <a href="tel:+393208086738">+39 320 808 6738</a> | WhatsApp: <a href="https://wa.me/393208086738">+39 320 808 6738</a></p>
            <p>&copy; 2026 Casa Paolina. Tutti i diritti riservati.</p>
        </div>
    </footer>

    <script src="js/locations-data.js"></script>
    <script src="js/guest-translations.js"></script>
    <script src="js/leaflet-beach-map.js"></script>
    <script src="js/guest-page.js"></script>

    <!-- Waste styles moved to css/guest-page.css for a cleaner, professional look -->
</body>
</html>
